{"mappings":"YAIA,IAAMA,EAASC,SAASC,cAAc,cAChCC,EAAUF,SAASC,cAAc,aAK5B,SAAFE,IAIL,OAAOC,MAAM,GAAuBC,OAHnB,sCAGQ,aAAmBA,OAF5B,wEAE4B,eAC3CC,MAAK,SAAAC,GAEa,IAAXA,EAAKC,GACL,MAAM,IAAIC,MAAM,mBAEsC,OAAnDF,EAAKG,M,IAdpBX,EAAOY,iBAAiB,UA8BxB,SAAkBC,GAEd,IAAMC,EAAKD,EAAIE,cAAcC,MAI7BZ,IACCG,MAAK,SAACU,G,OAMiBC,EANaJ,EAS/BK,EATyBF,EASXG,MAAK,SAAAC,G,OAAKA,EAAFP,KAAgBI,C,IAC5CI,QAAQC,IAAIJ,EAAQK,WAEpBrB,EAAQsB,WAEiBJ,EAFgBF,EAEfK,EAADH,EAACG,KAAME,EAAPL,EAAOK,YAAaC,EAApBN,EAAoBM,YAAaC,EAAjCP,EAAiCQ,MAAQD,IAC5D,wCACwCtB,OAAbsB,EAAI,WAEJtB,OAFakB,EAAK,qFAGdlB,OADJkB,EAAK,kDAEQlB,OADToB,EAAY,0DACSpB,OAAZqB,EAAY,4BAd9D,IAA4BT,EAGlBC,EAKmBE,EAACG,EAAME,EAAaC,EAAaC,C,IAbzDE,OAAM,SAAAC,G,OAAOT,QAAQC,IAAIQ,E,OApBtB3B,IACHG,MAAK,SAACU,GAIX,IAAuBe,EAJFhC,EAAOiC,mBAAmB,aAIxBD,EAJmDf,EAKtEK,QAAQC,IAAI,iBAAkBS,GACvBA,EAAIE,KAAI,SAAAb,G,IAAGP,EAAEO,EAAFP,GAAIU,EAAIH,EAAJG,K,MAAW,4BACLlB,OAAPQ,EAAG,MAASR,OAALkB,EAAK,kB,IAC9BW,KAAK,K,IAPPL,OAAM,SAAAC,G,OAAOT,QAAQC,IAAIQ,E","sources":["src/index.js"],"sourcesContent":["//console.log('JS-Homework-10_repeat')\n//https://developers.thecatapi.com/view-account/ylX4blBYT9FaoVd6OhvR?report=bOoHBz-8t\n\n\nconst search = document.querySelector('.js-search')\nconst catInfo = document.querySelector('.cat-info')\nsearch.addEventListener('change', onSearch);\n\n\n//перший запит\nfunction getCatBreeds() {\n    const BASE_URL = 'https://api.thecatapi.com/v1/breeds';\n    const API_KEY = 'live_qVMnKGr2HdlsR807IOCErOPauQsHEHnfe8oeOiRs1YEqeZSIyzW0Zk7fOKIeCJQA';\n\n    return fetch(`${BASE_URL}?api_key=${API_KEY}&limit=100`)\n    .then(resp => {\n        //console.log('Результат запиту:', resp.json())\n        if(!resp.ok){\n            throw new Error('resp.statusText')   //сетемо нову помилку по такій конструкції, використовуємо statusText(що прийшов)\n        }\n        return resp.json();\n    })\n}\n//запит для select-options\ngetCatBreeds()\n    .then((data) => {search.insertAdjacentHTML('beforeend', createOptions(data)) })\n    .catch(err => console.log(err));\n\n\nfunction createOptions(arr) {\n    console.log('arrForOptions:', arr)\n    return arr.map(({ id, name }) => `\n        <option value=\"${id}\">${name}</option>\n    `).join('')\n}\n\nfunction onSearch(evt) {\n    //console.log('searchEvt', evt.currentTarget.value)\n    const id = evt.currentTarget.value;\n    //console.log('2id-search', id);\n    \n    //запит для cat-info\n    getCatBreeds()\n    .then((data) => (findSearchCat(data, id)))\n    .catch(err => console.log(err)); \n\n}\n\n\nfunction findSearchCat(arr, idCat) {\n    // console.log('2_arr:', arr)\n    //  console.log('3_id:', id);\n    const findCat = arr.find(({ id }) => id === idCat);\n    console.log(findCat.name)\n\n    catInfo.innerHTML = (createMarkupCatInfo(findCat));\n}\nfunction createMarkupCatInfo({name, description, temperament, image: {url}}) {\n   return `\n    <img class=\"cat-info_img\" src=\"${url}\" alt=\"${name}\" width=300>\n    <div class=\"cat-info_box\">\n        <h2 class=\"cat-info_title\">${name}</h2>\n        <p class=\"cat-info_descriptio\">${description}</p>\n        <p class=\"cat-info_nature\">Temperament: ${temperament}</p>\n    </div>\n    `\n}"],"names":["$b8f9b7833fa37166$var$search","document","querySelector","$b8f9b7833fa37166$var$catInfo","$b8f9b7833fa37166$var$getCatBreeds","fetch","concat","then","resp","ok","Error","json","addEventListener","evt","id","currentTarget","value","data","idCat","findCat","find","param","console","log","name","innerHTML","description","temperament","url","image","catch","err","arr","insertAdjacentHTML","map","join"],"version":3,"file":"index.fa795ec8.js.map"}