{"mappings":"AAIA,MAAMA,EAASC,SAASC,cAAc,cAChCC,EAAUF,SAASC,cAAc,aAK5B,SAAFE,IAIL,OAAOC,MAAM,+HACZC,MAAKC,IAEa,IAAXA,EAAKC,GACL,MAAM,IAAIC,MAAM,mBAEsC,OAAnDF,EAAKG,MAAM,G,CAd1BV,EAAOW,iBAAiB,UA8BxB,SAAkBC,GAEd,MAAMC,EAAKD,EAAIE,cAAcC,MAI7BX,IACCE,MAAMU,GAMX,SAAuBC,EAAKC,GAGxB,MAAMC,EAAUF,EAAIG,MAAK,EAACP,GAAEA,KAASA,IAAOK,IAC5CG,QAAQC,IAAIH,EAAQI,MAEpBpB,EAAQqB,UAEZ,UAA6BD,KAACA,EAAIE,YAAEA,EAAWC,YAAEA,EAAaC,OAAOC,IAACA,KACnE,MAAO,wCAC2BA,WAAaL,qFAEbA,kDACIE,0DACSC,yB,CARzBG,CAAoBV,E,CAZxBW,CAAcd,EAAMH,KACpCkB,OAAMC,GAAOX,QAAQC,IAAIU,I,IApBtB5B,IACHE,MAAMU,IAIX,IAAuBC,EAJFjB,EAAOiC,mBAAmB,aAIxBhB,EAJmDD,EAKtEK,QAAQC,IAAI,iBAAkBL,GACvBA,EAAIiB,KAAI,EAACrB,GAAEA,EAAEU,KAAEA,KAAW,4BACZV,MAAOU,qBACzBY,KAAK,KARoE,IAC3EJ,OAAMC,GAAOX,QAAQC,IAAIU","sources":["src/index.js"],"sourcesContent":["//console.log('JS-Homework-10_repeat')\n//https://developers.thecatapi.com/view-account/ylX4blBYT9FaoVd6OhvR?report=bOoHBz-8t\n\n\nconst search = document.querySelector('.js-search')\nconst catInfo = document.querySelector('.cat-info')\nsearch.addEventListener('change', onSearch);\n\n\n//перший запит\nfunction getCatBreeds() {\n    const BASE_URL = 'https://api.thecatapi.com/v1/breeds';\n    const API_KEY = 'live_qVMnKGr2HdlsR807IOCErOPauQsHEHnfe8oeOiRs1YEqeZSIyzW0Zk7fOKIeCJQA';\n\n    return fetch(`${BASE_URL}?api_key=${API_KEY}&limit=100`)\n    .then(resp => {\n        //console.log('Результат запиту:', resp.json())\n        if(!resp.ok){\n            throw new Error('resp.statusText')   //сетемо нову помилку по такій конструкції, використовуємо statusText(що прийшов)\n        }\n        return resp.json();\n    })\n}\n//запит для select-options\ngetCatBreeds()\n    .then((data) => {search.insertAdjacentHTML('beforeend', createOptions(data)) })\n    .catch(err => console.log(err));\n\n\nfunction createOptions(arr) {\n    console.log('arrForOptions:', arr)\n    return arr.map(({ id, name }) => `\n        <option value=\"${id}\">${name}</option>\n    `).join('')\n}\n\nfunction onSearch(evt) {\n    //console.log('searchEvt', evt.currentTarget.value)\n    const id = evt.currentTarget.value;\n    //console.log('2id-search', id);\n    \n    //запит для cat-info\n    getCatBreeds()\n    .then((data) => (findSearchCat(data, id)))\n    .catch(err => console.log(err)); \n\n}\n\n\nfunction findSearchCat(arr, idCat) {\n    // console.log('2_arr:', arr)\n    //  console.log('3_id:', id);\n    const findCat = arr.find(({ id }) => id === idCat);\n    console.log(findCat.name)\n\n    catInfo.innerHTML = (createMarkupCatInfo(findCat));\n}\nfunction createMarkupCatInfo({name, description, temperament, image: {url}}) {\n   return `\n    <img class=\"cat-info_img\" src=\"${url}\" alt=\"${name}\" width=300>\n    <div class=\"cat-info_box\">\n        <h2 class=\"cat-info_title\">${name}</h2>\n        <p class=\"cat-info_descriptio\">${description}</p>\n        <p class=\"cat-info_nature\">Temperament: ${temperament}</p>\n    </div>\n    `\n}"],"names":["$1f0dc3b9307be026$var$search","document","querySelector","$1f0dc3b9307be026$var$catInfo","$1f0dc3b9307be026$var$getCatBreeds","fetch","then","resp","ok","Error","json","addEventListener","evt","id","currentTarget","value","data","arr","idCat","findCat","find","console","log","name","innerHTML","description","temperament","image","url","$1f0dc3b9307be026$var$createMarkupCatInfo","$1f0dc3b9307be026$var$findSearchCat","catch","err","insertAdjacentHTML","map","join"],"version":3,"file":"index.d450a8b6.js.map"}